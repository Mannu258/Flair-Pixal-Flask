<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
</head>

<body>
    <form id="quoteForm" method="GET">
        <div class="col-lg-5">
            <div class="bg-primary rounded h-100 d-flex align-items-center p-5">
                <div class="row g-3">
                    <div class="col-md-6">
                        <input id="verify" name="number" type="tel" class="form-control border-0 bg-light"
                            placeholder="Mobile Number" style="height: 55px;" required>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-dark w-100 py-3" type="submit">Request A Quote</button>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <script>
        // Initialize intl-tel-input
        const iphoneInputField = document.querySelector("#verify");
        const iphoneInput = window.intlTelInput(iphoneInputField, {
            utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
        });

        // Add submit event listener to the form
        const form = document.getElementById("quoteForm");
        form.addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent the default form submission

            // Get the full phone number in E.164 format
            const fullPhoneNumber = iphoneInput.getNumber(); // Includes country code
            const isValid = iphoneInput.isValidNumber();

            if (!isValid) {
                alert("Invalid phone number. Please enter a valid number.");
                return;
            }

            // Display the full phone number with the country code in an alert
            alert("Full Phone Number (with country code): " + fullPhoneNumber);

            // Optionally, you can proceed with form submission
            form.submit();
        });
    </script>
</body>

</html>
